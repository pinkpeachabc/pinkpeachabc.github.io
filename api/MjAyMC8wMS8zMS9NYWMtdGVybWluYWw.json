{"title":"Mac终端配置代理","date":"2020-01-31T11:45:51.000Z","date_formatted":{"ll":"2020年1月31日","L":"2020/01/31","MM-DD":"01-31"},"thumbnail":"https://tva1.sinaimg.cn/large/006tNbRwly1gbfziydz2jj30jd0d9tbs.jpg","link":"2020/01/31/Mac-terminal","comments":true,"tags":["终端"],"categories":["实用知识"],"updated":"2020-06-06T13:01:13.585Z","content":"<p>在使用终端时候难免会浏览和下载墙外的资料，这时候就要用到代理。下面我来为大家介绍一下在Mac环境下终端的代理方法。</p>\n<a id=\"more\"></a>\n<h3 id=\"准备\">准备<a title=\"#准备\" href=\"#准备\"></a></h3>\n<p>在操作以下步骤之前，需要配置好 Shadowsocks。</p>\n<h3 id=\"方法一：\">方法一：<a title=\"#方法一：\" href=\"#方法一：\"></a></h3>\n<p>在终端中依次执行以下命令的前两个或者直接执行最后一个即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 配置http访问的</span><br><span class=\"line\">export http_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class=\"line\"># 配置https访问的</span><br><span class=\"line\">export https_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class=\"line\"># 配置http和https访问</span><br><span class=\"line\">export all_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里的端口具体要看使用的工具，具体如下。</p>\n</blockquote>\n<p><img src=\"https://tva1.sinaimg.cn/large/006tNbRwly1gbfzmadu91j30gg0nmjzh.jpg\" alt=\"Xnip2020-01-31_19-52-00\" class=\"φcx\"></p>\n<p>这里就要输入1086端口。</p>\n<p>这个办法的好处是简单直接，并且影响面很小（只对当前终端有效）。</p>\n<p>输入<code>curl cip.cc</code>来查看终端是否成功代理。</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/006tNbRwgy1gbfzrlu1ulj30kj0d9grz.jpg\" alt=\"Xnip2020-01-31_19-56-20\" class=\"φcx\"></p>\n<h3 id=\"方法二：\">方法二：<a title=\"#方法二：\" href=\"#方法二：\"></a></h3>\n<p>把代理服务器地址写入 shell 配置文件 <code>.bash_profile</code> 或者 <code>.zshrc</code>。</p>\n<p>终端执行 <code>vim ~/.bash_profile</code> 或者 <code>vim ~/.zshrc</code> 配置全局环境变量。</p>\n<p>直接在 <code>. bash_profile</code> 或者 <code>.zshrc</code> 添加下面内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 终端设置代理</span><br><span class=\"line\"># -------------------------------</span><br><span class=\"line\"># polipo proxy on&#x2F;off</span><br><span class=\"line\"># ------------------------------</span><br><span class=\"line\">function proxy_on() &#123;</span><br><span class=\"line\">    # 配置http访问的</span><br><span class=\"line\">    export http_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class=\"line\">    # 配置https访问的</span><br><span class=\"line\">    export https_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class=\"line\">    # 配置http和https访问</span><br><span class=\"line\">    export all_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class=\"line\">    echo &#39;********   开启当前终端代理   ********&#39;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function proxy_off() &#123;</span><br><span class=\"line\">    # 移除代理</span><br><span class=\"line\">    unset http_proxy</span><br><span class=\"line\">    unset https_proxy</span><br><span class=\"line\">    unset all_proxy</span><br><span class=\"line\">    echo &#39;********   关闭当前终端代理   ********&#39;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>编辑完之后执行 <code>source ~/.bash_profile</code> 或者 <code>source ~/.zshrc</code> ，编辑的哪个执行哪个就行。</p>\n<p>使用时在终端执行</p>\n<blockquote>\n<p>启动：<code>proxy_on</code><br>\n关闭：<code>proxy_off</code></p>\n</blockquote>\n<p>这个办法的好处是随时用随时开关，方便快捷，并且影响面也同样很小（在执行的终端设置代理，只对执行的终端有效，不影响其他终端）。</p>\n<h3 id=\"方法三：（配置全局代理-慎用）\">方法三：（配置全局代理 <code>慎用</code>）<a title=\"#方法三：（配置全局代理-慎用）\" href=\"#方法三：（配置全局代理-慎用）\"></a></h3>\n<h6 id=\"a.-设置代理\">a. 设置代理<a title=\"#a.-设置代理\" href=\"#a.-设置代理\"></a></h6>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global http.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br><span class=\"line\">git config --global https.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br></pre></td></tr></table></figure>\n<h6 id=\"b.-查看信息-git-配置信息\">b. 查看信息 git 配置信息<a title=\"#b.-查看信息-git-配置信息\" href=\"#b.-查看信息-git-配置信息\"></a></h6>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global -l </span><br></pre></td></tr></table></figure>\n<h6 id=\"c.-git-移除全局配置代理\">c. git 移除全局配置代理<a title=\"#c.-git-移除全局配置代理\" href=\"#c.-git-移除全局配置代理\"></a></h6>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global --unset http.proxy</span><br><span class=\"line\">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>如果 git 配置了全局的代理会影响到 sourcetree 或者其他命令终端的 git 命令，请小心使用！！！</p>\n</blockquote>\n<hr>\n<h3 id=\"参考文章\">参考文章<a title=\"#参考文章\" href=\"#参考文章\"></a></h3>\n<p><a href=\"http://www.imooc.com/article/285912\" target=\"_blank\">Mac终端配置代理</a></p>\n","prev":{"title":"Blog定位方向和主题选择","link":"2020/02/08/theme-change"},"next":{"title":"你活成你想要的样子了吗？","link":"2020/01/17/2020.01.17"},"plink":"https://pinkpeachabc.cn/2020/01/31/Mac-terminal/","toc":[{"id":"准备","title":"准备","index":"1"},{"id":"方法一：","title":"方法一：","index":"2"},{"id":"方法二：","title":"方法二：","index":"3"},{"id":"方法三：（配置全局代理-慎用）","title":"方法三：（配置全局代理 慎用）","index":"4"},{"id":"参考文章","title":"参考文章","index":"5"}],"reward":true,"copyright":{"license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)","link":"<a href=\"https://pinkpeachabc.cn/2020/01/31/Mac-terminal/\" title=\"Mac终端配置代理\">https://pinkpeachabc.cn/2020/01/31/Mac-terminal/</a>"}}